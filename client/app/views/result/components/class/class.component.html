<div class="anchor" [attr.id]="classification.id"></div>
<md-card [className]="classification.type.toLowerCase()" [ngClass]="{'selected': isSelected}">
  <md-card-header>
    <a [routerLink]="['/docs', classification.id]" md-card-avatar>
      <fint-fa [name]="classType"></fint-fa>
    </a>
    <md-card-subtitle>{{ classification.package.packagePath }}</md-card-subtitle>
    <md-card-title>
      <h3>
        <span [innerHTML]="classification.name | highlight:searchStr"></span>
        <span *ngIf="classification.superType">
          <fint-fa name="arrow-left"></fint-fa>
          <md-chip *ngIf="classification.superType">
            <a [routerLink]="['/docs', classification.superType.id]" [innerHTML]="classification.superType.name | highlight:searchStr"></a>
          </md-chip>
        </span>
        <small class="type" [innerHTML]="classification.type | highlight:searchStr"></small>
      </h3>
    </md-card-title>
  </md-card-header>

  <md-card-content>
    <div class="subtypes" *ngIf="classification.subTypes && classification.subTypes.length">
      <md-chip-list selectable="false">
        <md-chip *ngFor="let cls of classification.subTypes">
          <a [routerLink]="['/docs', cls.id]" [innerHTML]="cls.name | highlight:searchStr"></a>
        </md-chip>
      </md-chip-list>
    </div>

    <app-details *ngIf="classification.documentationBody.length > 0">
      <header [innerHTML]="classification.documentationHeader"></header>
      <span [innerHTML]="classification.documentationBody | MarkdownToHtml"></span>
    </app-details>

    <table *ngIf="classification.ownedAttribute">
      <thead>
        <tr>
          <th class="dropdown"></th>
          <th class="name">Felt</th>
          <th class="type">Type</th>
          <th class="multiplicity">Multiplicity</th>
          <th class="description">Beskrivelse</th>
        </tr>
      </thead>
      <tbody *ngFor="let attribute of classification.ownedAttribute" [attr.id]="attribute.id">
        <tr [ngClass]="{hasDetailsBody: attribute.documentationBody.length > 0, hasDetails: attribute.documentationHeader.length > 0, isOpen: attribute.isOpen}" (click)="openAttribute(attribute)">
          <td class="dropdown">
            <fint-fa *ngIf="attribute.documentationHeader.length > 0" class="toggleMobileDetails" [name]="attribute.isOpen ? 'caret-down' : 'caret-right'"></fint-fa>
            <fint-fa *ngIf="attribute.documentationBody.length > 0" class="toggleDetailBody" [name]="attribute.isOpen ? 'caret-down' : 'caret-right'"></fint-fa>
          </td>
          <td class="name" [innerHTML]="attribute.name | highlight:searchStr"></td>
          <td class="type">
            <span *ngIf="attribute.isPrimitive" [innerHTML]="attribute.typeName | highlight:searchStr"></span>
            <a *ngIf="!attribute.isPrimitive && attribute.typeRef" [routerLink]="['/docs', attribute.typeRef.id]" [innerHTML]="attribute.typeName | highlight:searchStr"></a>
          </td>
          <td class="multiplicity">{{ attribute.multiplicity }}</td>
          <td class="description">
            <i>{{ attribute.documentationHeader }}</i>
          </td>
        </tr>
        <tr class="dropdown-row" *ngIf="attribute.isOpen && attribute.documentationHeader.length > 0">
          <td colspan="5" class="details"><i>{{ attribute.documentationHeader }}</i></td>
        </tr>
        <tr *ngIf="attribute.isOpen && attribute.documentationBody.length > 0">
          <td colspan="5" [innerHTML]="attribute.documentationBody | MarkdownToHtml " class="details"></td>
        </tr>
      </tbody>
    </table>
  </md-card-content>
</md-card>
